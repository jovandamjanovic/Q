"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),xmlToJson=function e(t){var n={};if(1==t.nodeType){if(t.attributes.length>0)for(var a=0;a<t.attributes.length;a++){var r=t.attributes.item(a);n["_"+r.nodeName]=r.nodeValue}}else if(3==t.nodeType&&(n=t.nodeValue.replace(/^\s+|\s+$/g,""),""===n))return;if(t.hasChildNodes()){if("Graphics"===t.nodeName)return t.innerHTML;for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes.item(i),o=s.nodeName;if("undefined"==typeof n[o])n[o]=e(s);else{if("undefined"==typeof n[o].push){var u=n[o];n[o]=[],n[o].push(u)}n[o].push(e(s))}}}var l=/{"#text":(".+?")}/g;return n=JSON.parse(JSON.stringify(n).replace(l,"$1"))},QComponent=function(){function e(t){_classCallCheck(this,e),this.metaData=t,this.name=t.Name,this.width=Number.parseInt(t.Width),this.height=Number.parseInt(t.Height)}return _createClass(e,[{key:"render",value:function(){if(void 0!==this.metaData.Graphics){var e=document.createElementNS("http://www.w3.org/2000/svg","template");return e.innerHTML=this.metaData.Graphics.replace(/^\s+|\s+$/g,"").replace(/>\s*/g,">").replace(/<\s*/g,"<"),e.firstChild}return document.createElement("div")}}]),e}(),QComponentSet=function(){function e(t,n){_classCallCheck(this,e),this.catalogueName=t,this.metaData=n}return _createClass(e,[{key:"newInstance",value:function(e){var t=this.metaData.ComponentCatalogue.Component.filter(function(t){return t.Id===e?t:void 0});if(t.length>0){var n=t[0];return new QComponent(n)}}}],[{key:"loadMetaData",value:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(xmlToJson(n.responseXML))},n.open("GET",e,!0),n.send()})}}]),e}();