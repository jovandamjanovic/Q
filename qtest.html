<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>QSphere Component Catalogue Test</title>
    <style>
        #test {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <svg id="test" height="300px" width="500px"></svg>
</body>
    <script src="scripts/publish/QComponentSet_Source.min.js"></script>
    <script>
        var testContainer = document.querySelector("#test");
        renderComponent = (component) => {
            var comp = component.render();
            comp.setAttribute('width', (64 + Number.parseInt(component.metaData.Width)) + "px");
            comp.setAttribute('height', component.metaData.Height + "px");
            comp.classList.add(component.metaData.Id);
            comp.onclick = () => window.alert(component.metaData.Name + " clicked!");
            return comp;
        };
        QComponentSet.loadMetaData('data/ComponentCatalogue_Jovan.xml').then(function(metaData) {
            var factory = new QComponentSet('default', metaData);
            var component3 = factory.newInstance('QButton');
            var component4 = factory.newInstance('QImage');
            var component5 = factory.newInstance('QTextArea');
            testContainer.appendChild(renderComponent(component3));
            testContainer.appendChild(renderComponent(component4));
            testContainer.appendChild(renderComponent(component5));
            document.querySelector(".QImage").setAttribute('y', '36px');
            document.querySelector(".QImage").setAttribute('x', '36px');
            document.querySelector(".QTextArea").setAttribute('y', '168px');
            document.querySelector(".QTextArea").setAttribute('x', '128px');
        });
    </script>
</html>